(this.webpackJsonptuhlari=this.webpackJsonptuhlari||[]).push([[0],{250:function(e,t,a){e.exports=a(373)},255:function(e,t,a){},373:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),l=(a(255),a(13)),i=a(18),s=a.n(i),u=a(74),m=a(83),d=a(193),p=a(186),g=a(9),f=a(217),h=a(53),b=window.location.host.includes("localhost")?"http://localhost:8080/":"http://nodejs-mongo-persistent-tuhlari.rahtiapp.fi/";function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){var t=O(),a=Object(n.useState)({user:"",password:""}),o=Object(l.a)(a,2),c=o[0],i=o[1],u=e.isOpen,m=e.setAuthorization,p=e.close,v=Object(h.useSnackbar)().enqueueSnackbar;function y(e){i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c,Object(g.a)({},e.target.name,e.target.value)))}return e.authorization.email?r.a.createElement("div",{className:u?"login login-open":"login login-closed"},r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),s.a.post(b+"logout").then((function(e){var t=e.data,a=t.email,n=t.name,r=t.userGroup;m({email:a,name:n,userGroup:r}),v("Successfully logged out",{variant:"info"}),p()})).catch((function(e){console.error(e)}))}},r.a.createElement(d.a,{type:"submit",className:t.root,variant:"contained",color:"primary"},"Logout"))):r.a.createElement("div",{className:u?"login login-open":"login login-closed"},r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),console.log(c),s.a.post(b+"login",{},{auth:{username:c.user,password:c.password}}).then((function(e){var t=e.data,a=t.email,n=t.name,r=t.userGroup;a&&r?(m({email:a,name:n,userGroup:r}),i({user:"",password:""}),v("Successfully logged in",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}}),p()):v("Failed to login",{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})})).catch((function(e){console.error(e),v("Failed to login",{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}},r.a.createElement(f.a,{onChange:y,id:"standard-password-input",label:"Email",name:"user",className:t.textField,autoComplete:"current-password",margin:"normal",value:c.user}),r.a.createElement(f.a,{onChange:y,id:"standard-password-input",label:"Password",name:"password",className:t.textField,type:"password",autoComplete:"current-password",margin:"normal",value:c.password}),r.a.createElement(d.a,{type:"submit",className:t.root,variant:"contained",color:"primary"},"Login")))}var O=Object(p.a)((function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},form:{display:"flex",flexDirection:"column",padding:"1rem",borderRadius:"1.5rem"}}})),y=a(225),w=a.n(y);function j(e){var t=P(),a=Object(n.useState)(!1),o=Object(l.a)(a,2),c=o[0],i=o[1],s=e.authorization,m=e.setAuthorization;return r.a.createElement("nav",{className:t.root},r.a.createElement("ul",null,e.links.map((function(e,a){return r.a.createElement("li",{key:a},r.a.createElement(u.b,{to:e.url},r.a.createElement(d.a,{className:t.button},e.name)))}))),r.a.createElement("ul",null,r.a.createElement(u.b,{to:"settings",className:t.settingsLink},r.a.createElement(d.a,{className:t.button},"Settings")),r.a.createElement(d.a,{onClick:function(){i(!c)},color:"primary",className:t.button},s.email?"Logged in":"Login"," ",r.a.createElement(w.a,{className:c?t.loginIconUp:t.loginIconDown})),r.a.createElement(v,{isOpen:c,close:function(){return i(!1)},setAuthorization:m,authorization:s})))}var P=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.primary.main,display:"flex",justifyContent:"space-between","& ul":{listStyle:"none",margin:0},"& li":{display:"inline-block"}},loginIconUp:{transform:"rotate(-180deg)",transition:"all 0.25s"},loginIconDown:{transition:"all 0.25s",transform:"rotate(0deg)"},button:{color:"white",marginRight:"20px",padding:"10px 10px","&:hover":{backgroundColor:"a90018"}},settingsLink:{}}})),x=a(25),C=a(21),N=a(34),S=a(35),k=a(36),D=a(429),R=a(134),W=a.n(R),I=a(219),F=a(150),z=a(432),T=a(104),q=a(431),G=a(167),L=a.n(G),M=a(444),A=a(430),U=a(443),K=a(226),B=a.n(K),H=a(103);function _(e){var t=V(),a=Object(n.useState)(null),o=Object(l.a)(a,2),c=o[0],i=o[1],u=Object(m.f)().id;return Object(n.useEffect)((function(){u&&s.a.get(b+"product/"+u).then((function(e){return i(e.data)})).catch((function(e){return console.log(e)}))}),[u]),c?r.a.createElement("div",{className:e.className},r.a.createElement(H.a,{elevation:2,className:t.paper},c.isClassified?r.a.createElement(B.a,{color:"primary",fontSize:"large"}):null,e.toggleEditMode?r.a.createElement(D.a,{color:"secondary","aria-label":"edit",size:"small",style:{float:"right"},onClick:e.toggleEditMode},r.a.createElement(W.a,null)):null,r.a.createElement("div",{className:"product-header"},r.a.createElement("h1",null,c.productName),r.a.createElement("img",{className:"logo-large",src:c.logos[c.logos.length-1]||"https://image.shutterstock.com/image-vector/ui-image-placeholder-wireframes-apps-260nw-1037719204.jpg",alt:c.productName})),r.a.createElement(M.a,{alternativeLabel:!0,activeStep:c.lifecycleStatus-1},["Idea","Accepted","Planning","Developement","Released","Production","Closed"].map((function(e,t){return r.a.createElement(A.a,{key:e},r.a.createElement(U.a,null,e))}))),r.a.createElement("div",null,r.a.createElement("p",{className:"product-short-description"},c.shortDescription)),r.a.createElement("div",null,r.a.createElement("p",{className:"product-long-description"},c.longDescription),c.technologies.length?r.a.createElement("div",null,r.a.createElement(q.a,null),r.a.createElement(T.a,{variant:"caption"},"Technologies:"),r.a.createElement("div",{className:t.chips},c.technologies.map((function(e,t){return r.a.createElement(I.a,{key:t,label:e,color:"secondary",variant:"outlined"})})))):null,c.components.length?r.a.createElement("div",null,r.a.createElement(q.a,null),r.a.createElement(T.a,{variant:"caption"},"Components:"),r.a.createElement("div",{className:t.chips},c.components.map((function(e,t){return r.a.createElement(I.a,{key:t,label:e,color:"secondary",variant:"outlined"})})))):null,c.environmentRequirements.length?r.a.createElement("div",null,r.a.createElement(q.a,null),r.a.createElement(T.a,{variant:"caption"},"Environment Requirements:"),r.a.createElement("div",{className:t.chips},c.environmentRequirements.map((function(e,t){return r.a.createElement(I.a,{key:t,label:e,color:"secondary",variant:"outlined"})})))):null,c.customers.length?r.a.createElement("div",null,r.a.createElement(q.a,null),r.a.createElement(T.a,{variant:"caption"},"Customers:"),r.a.createElement("div",{className:t.chips},c.customers.map((function(e,t){return r.a.createElement(I.a,{key:t,label:e,color:"secondary",variant:"outlined"})})))):null,r.a.createElement(q.a,null),r.a.createElement("div",{className:t.bottomChipGroup},c.pricing?r.a.createElement("div",null,r.a.createElement(T.a,{variant:"caption"},"Pricing:"),r.a.createElement("div",null,r.a.createElement(I.a,{color:"primary",label:c.pricing,avatar:r.a.createElement(z.a,null,"\u20ac")}))):null,c.productOwner?r.a.createElement("div",null,r.a.createElement(T.a,{variant:"caption"},"Product Owner:"),r.a.createElement("div",null,r.a.createElement(I.a,{variant:"outlined",color:"primary",label:c.productOwner,icon:r.a.createElement(L.a,null)}))):null,c.salesPerson?r.a.createElement("div",null,r.a.createElement(T.a,{variant:"caption"},"Sales Person:"),r.a.createElement("div",null,r.a.createElement(I.a,{variant:"outlined",color:"primary",label:c.salesPerson,icon:r.a.createElement(L.a,null)}))):null)))):r.a.createElement("div",null,r.a.createElement("p",null,"Loading..."))}var V=Object(F.a)((function(e){return{paper:{maxWidth:1e3,padding:e.spacing(4),margin:"auto"},chips:{"& > *":{margin:e.spacing(.6)}},bottomChipGroup:{display:"flex",justifyContent:"space-evenly"}}})),J=a(445),Q=a(433),$=a(434),X=a(168),Y=a.n(X);function Z(e){var t=e.name,a=e.products,n=ee();return r.a.createElement("div",null,r.a.createElement(J.a,{className:n.root,defaultExpanded:e.defaultExpanded},r.a.createElement(Q.a,{expandIcon:r.a.createElement(Y.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(T.a,{className:n.heading},t)),r.a.createElement($.a,null,r.a.createElement("ul",{className:n.products},a.map((function(t,o){return r.a.createElement("li",{key:t._id,className:e.selected===t._id?n.productSelected:n.product,onClick:function(){return e.setProduct(a[o])}},r.a.createElement("div",{className:n.productContainer},r.a.createElement("img",{className:"logo-normal",src:t.logos[t.logos.length-1]||"https://image.shutterstock.com/image-vector/ui-image-placeholder-wireframes-apps-260nw-1037719204.jpg",alt:t.productName}),r.a.createElement("p",null,((c=t.productName).length>24&&(c=c.slice(0,24)+"..."),c))),r.a.createElement("div",null,r.a.createElement(Y.a,null)));var c}))))))}var ee=Object(p.a)((function(e){return{root:{padding:0,"& .MuiExpansionPanelDetails-root":{padding:0}},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},products:{listStyle:"none",padding:0,margin:0},product:{minWidth:300,padding:"0.5rem 0",backgroundColor:"#f5f5f5",boxShadow:"1px 5px 10px 1px #c5c5c5",borderTop:"1px solid #c9c9c9",display:"flex",justifyContent:"space-between",alignItems:"center",borderLeft:"10px solid #cfcfcf","& svg":{transform:"rotate(-90deg)",marginRight:10,opacity:0},"&:hover":{backgroundColor:"#e4e4e4",transition:"all 250ms",cursor:"pointer",borderLeft:"10px solid #989898","& svg":{opacity:1}}},productContainer:{display:"flex",alignItems:"center",justifyContent:"space-around",marginLeft:10,minWidth:130,"& p":{marginLeft:20,width:200,textAlign:"left"}},productSelected:{minWidth:300,padding:"0.5rem 0",backgroundColor:"#dbdbdb",boxShadow:"1px 5px 10px 1px #c5c5c5",borderTop:"1px solid #c9c9c9",display:"flex",justifyContent:"space-between",alignItems:"center",borderLeft:"10px solid #d8001f","& svg":{transform:"rotate(90deg)",transition:"transform 200ms",marginRight:10},"&:hover":{cursor:"pointer","& svg":{marginRight:10}}}}})),te=a(227),ae=a.n(te),ne=a(235),re=a(12);function oe(e){var t=ce();return r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(ae.a,null)),r.a.createElement(ne.a,{placeholder:"Search\u2026",onChange:e.onSearch,classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}}))}var ce=Object(p.a)((function(e){return{grow:{flexGrow:1},search:Object(g.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(re.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(re.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(g.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200})}})),le=r.a.createContext({}),ie=le.Provider,se=(le.Consumer,le),ue=a(38),me=a(229),de=a.n(me),pe=a(435),ge=a(195),fe=a(228),he=a.n(fe),be=a(136),Ee=a(436),ve=a(197),Oe=a(196),ye=a(215),we=a(218);function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xe(e){var t=Ce(),a=Object(n.useState)(!1),o=Object(l.a)(a,2),c=(o[0],o[1],Object(n.useState)(!1)),i=Object(l.a)(c,2),u=i[0],m=i[1],p=Object(n.useState)(!1),E=Object(l.a)(p,2),v=E[0],O=E[1],y=Object(n.useState)([]),w=Object(l.a)(y,2),j=w[0],P=w[1],x=Object(n.useState)([]),C=Object(l.a)(x,2),N=C[0],S=C[1],k=Object(n.useState)([]),R=Object(l.a)(k,2),F=R[0],z=R[1],T=Object(n.useState)([]),q=Object(l.a)(T,2),G=q[0],L=q[1],M=Object(n.useState)(null),A=Object(l.a)(M,2),U=A[0],K=A[1],B=Object(n.useState)(),_=Object(l.a)(B,2),V=_[0],J=_[1],Q=Object(n.useState)(!0),$=Object(l.a)(Q,2),X=$[0],Y=$[1],Z=Object(h.useSnackbar)().enqueueSnackbar,ee=(e.product,Object(n.useState)({productName:"",shortDescription:"",longDescription:"",pricing:"",salesPerson:"",productOwner:"",businessType:"",lifecycleStatus:"",technology:"",component:"",environmentRequirement:"",customer:""})),te=Object(l.a)(ee,2),ae=te[0],ne=te[1];function re(e){ne(Pe({},ae,Object(g.a)({},e.target.name,e.target.value)))}function oe(e){P(j.filter((function(t,a){return e!==a})))}function ce(e){S(N.filter((function(t,a){return e!==a})))}function le(e){L(G.filter((function(t,a){return e!==a})))}function ie(e){z(F.filter((function(t,a){return e!==a})))}function se(t){var a=e.product?e.product._id:null,n=ae;n.isIdea=u,n.isClassified=v,n.technologies=N,n.components=j,n.customers=G,n.environmentRequirements=F,n.logo=t||"",n.id=a||null,delete n.technology,delete n.component,delete n.environmentRequirement,delete n.customer,s.a.post(b+(a?"editProduct":"addProduct"),n).then((function(t){console.log(t),Z(a?"Product edited":"Product added",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.toggleEditMode?e.onEdit():(m(!1),O(!1),ne({productName:"",shortDescription:"",longDescription:"",pricing:"",salesPerson:"",productOwner:"",businessType:"",lifecycleStatus:"",technology:"",component:"",environmentRequirement:"",customer:""}),K(null),Y(!0),J(null),S([]),P([]),z([]),L([]))})).catch((function(e){console.log(e.response),Z(e.response.data.message,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}})}))}function me(e){"Enter"===e.key&&e.preventDefault()}function fe(e){if("Enter"===e.key){e.preventDefault();var t=ae.component,a=ae.technology,n=ae.environmentRequirement,r=ae.customer;switch(e.target.name){case"component":!function(e){e&&(P([].concat(Object(ue.a)(j),[e])),ne(Pe({},ae,{component:""})))}(t);break;case"technology":!function(e){e&&(S([].concat(Object(ue.a)(N),[e])),ne(Pe({},ae,{technology:""})))}(a);break;case"environmentRequirement":!function(e){e&&(z([].concat(Object(ue.a)(F),[e])),ne(Pe({},ae,{environmentRequirement:""})))}(n);break;case"customer":!function(e){e&&(L([].concat(Object(ue.a)(G),[e])),ne(Pe({},ae,{customer:""})))}(r);break;default:console.log("Default case")}}if("Backspace"===e.key&&!e.target.value)switch(e.target.name){case"component":oe(j.length-1);break;case"technology":ce(N.length-1);break;case"environmentRequirement":ie(F.length-1);break;case"customer":le(G.length-1);break;default:console.log("Default case")}}return Object(n.useEffect)((function(){e.product&&(ne({productName:e.product.productName,shortDescription:e.product.shortDescription,longDescription:e.product.longDescription,pricing:e.product.pricing,salesPerson:e.product.salesPerson,productOwner:e.product.productOwner,businessType:e.product.businessType,lifecycleStatus:e.product.lifecycleStatus}),e.product.technologies&&S(e.product.technologies),e.product.components&&P(e.product.components),e.product.environmentRequirements&&z(e.product.environmentRequirements),e.product.customers&&L(e.product.customers),O(e.product.isClassified),e.product.logos.length&&(K(e.product.logos[e.product.logos.length-1]),Y(!1)))}),[e]),r.a.createElement(H.a,{elevation:2,className:t.root},e.toggleEditMode?r.a.createElement(D.a,{color:"secondary","aria-label":"edit",size:"small",style:{float:"right"},onClick:e.toggleEditMode},r.a.createElement(W.a,null)):null,r.a.createElement("h1",{className:"create-product-header"},e.title),r.a.createElement("form",{className:t.form,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),u&&ae.productName.length>3&&ae.shortDescription.length>3||ae.productName.length>3&&ae.shortDescription.length>3&&ae.productOwner.length>3?V?function(){var e=new FormData;e.append("image",V,V.filename),s.a.post(b+"uploadImage",e).then((function(e){console.log(e),200===e.status&&se(b+e.data)})).catch((function(e){console.error(e),Z("Image upload failed.",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}})}))}():se():Z("Required fields not filled!",{variant:"warning",anchorOrigin:{vertical:"top",horizontal:"center"}})}},r.a.createElement(pe.a,{container:!0,direction:"column",spacing:1},r.a.createElement(pe.a,{item:!0,xs:12,className:t.inputField},r.a.createElement(ve.a,{control:r.a.createElement(Ee.a,{checked:v,onChange:function(){O(!v)},value:"isClassified"}),name:"classified",label:"Is classified",labelPlacement:"start"})),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,onKeyDown:me,value:ae.productName,name:"productName",label:"Name",required:!0}))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,onKeyDown:me,multiline:!0,name:"shortDescription",label:"Short description",value:ae.shortDescription,required:!0}))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(Oe.a,{htmlFor:"demo-customized-select-native",required:!0},"Lifecycle status"),r.a.createElement(ye.a,{id:"demo-customized-select-native",name:"lifecycleStatus",value:ae.lifecycleStatus,onChange:function(e){ne(Pe({},ae,Object(g.a)({},e.target.name,e.target.value))),1===e.target.value?m(!0):m(!1)}},r.a.createElement(we.a,{value:1},"(1) Idea"),r.a.createElement(we.a,{value:2},"(2) Accepted idea"),r.a.createElement(we.a,{value:3},"(3) Planning"),r.a.createElement(we.a,{value:4},"(4) In developement"),r.a.createElement(we.a,{value:5},"(5) Released"),r.a.createElement(we.a,{value:6},"(6) In production"),r.a.createElement(we.a,{value:7},"(7) Closed")))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{multiline:!0,onChange:re,name:"longDescription",label:"Long description",value:ae.longDescription}))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,onKeyDown:me,name:"productOwner",label:"Product owner",value:ae.productOwner,required:!u}))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,onKeyDown:me,value:ae.salesPerson,name:"salesPerson",label:"Sales person"}))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,onKeyDown:me,name:"businessType",label:"Business type",value:ae.businessType}))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,onKeyDown:me,name:"pricing",label:"Pricing",value:ae.pricing}))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement("div",null,r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,name:"technology",label:"Technologies",onKeyDown:fe,value:ae.technology})))),r.a.createElement(pe.a,{item:!0,xs:10,style:{padding:"0"}},r.a.createElement("div",{className:t.chipContainer},N.map((function(e,a){return r.a.createElement(I.a,{key:a,label:e,onDelete:function(){return ce(a)},className:t.chip})})))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement("div",null,r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,name:"component",label:"Components",onKeyDown:fe,value:ae.component})))),r.a.createElement(pe.a,{item:!0,xs:10},r.a.createElement("div",{className:t.chipContainer},j.map((function(e,a){return r.a.createElement(I.a,{key:a,label:e,onDelete:function(){return oe(a)},className:t.chip})})))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement("div",null,r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,name:"environmentRequirement",label:"Environment Requirement",onKeyDown:fe,value:ae.environmentRequirement})))),r.a.createElement(pe.a,{item:!0,xs:10,style:{padding:"0"}},r.a.createElement("div",{className:t.chipContainer},F.map((function(e,a){return r.a.createElement(I.a,{key:a,label:e,onDelete:function(){return ie(a)},className:t.chip})})))),r.a.createElement(pe.a,{item:!0,xs:10,className:t.inputField},r.a.createElement("div",null,r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(f.a,{onChange:re,name:"customer",label:"Customer",onKeyDown:fe,value:ae.customer})))),r.a.createElement(pe.a,{item:!0,xs:10},r.a.createElement("div",{className:t.chipContainer},G.map((function(e,a){return r.a.createElement(I.a,{key:a,label:e,onDelete:function(){return le(a)},className:t.chip})})))),r.a.createElement(pe.a,{item:!0,xs:12,className:t.imageField},r.a.createElement("h2",{className:t.logoText},"Logo",r.a.createElement(be.a,{"aria-label":"delete",onClick:function(){Y(!X),K(null)},className:X?t.imgHidden:t.removeButton},r.a.createElement(he.a,null))),r.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){if(Y(!X),e.target.files&&e.target.files[0]){var t=new FileReader;J(e.target.files[0]),t.onload=function(e){return K(e.target.result)},t.readAsDataURL(e.target.files[0])}}}),r.a.createElement("label",{htmlFor:"contained-button-file",className:X?t.imgVisible:t.imgHidden},r.a.createElement(d.a,{variant:"contained",color:"primary",component:"span",startIcon:r.a.createElement(de.a,null)},"Upload")),r.a.createElement("img",{className:X?t.imgHidden:t.imgVisible,src:U,alt:""}))),r.a.createElement(pe.a,{item:!0,xs:12,style:{margin:"20px"}},r.a.createElement(d.a,{variant:"contained",type:"submit",style:{marginTop:"30px"}},"Submit"))))}var Ce=Object(p.a)((function(e){return{root:{maxWidth:1e3,padding:e.spacing(4),margin:"auto"},form:{},chip:{margin:e.spacing(.5)},chipContainer:{minHeight:"40px"},flex:{display:"flex",justifyContent:"space-around"},input:{display:"none"},logoText:{position:"relative",fontFamily:"Roboto",fontWeight:300,fontStyle:"italic",margin:"10px"},imgVisible:{maxHeight:"180px",maxWidth:"100%",margin:"auto"},imgHidden:{visibility:"collapse",position:"absolute"},inputField:{marginTop:"10px",marginBottom:"10px",marginLeft:"10%",marginRight:"10%"},imageField:{},removeButton:{position:"absolute",right:"0px",padding:"0",marginTop:"4px"}}})),Ne=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(N.a)(this,Object(S.a)(t).call(this,e))).onSearch=function(e){a.setState({searchQuery:e.target.value})},a.setProduct=function(e){a.setState({currentProduct:a.state.currentProduct===e?null:e})},a.toggleEditMode=function(){a.setState({isEditMode:!a.state.isEditMode})},a.state={currentProduct:null,products:[],isEditMode:!1},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.getProducts()}},{key:"getProducts",value:function(){var e=this;s.a.get(b+"products").then((function(t){console.log(t.data),e.setState({products:t.data})})).catch((function(e){return console.log(e.message)}))}},{key:"render",value:function(){var e=this.context,t=this.state.currentProduct,a=t?t._id:"",n=this.state.products.filter((function(t){return(t.creator===e.email||t.productOwner===e.email||t.salesPerson===e.email)&&!1===t.isIdea})),o=this.state.products.filter((function(e){return e.isIdea})),c=this.state.products.filter((function(e){return!n.includes(e)&&!e.isIdea}));return r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"sidebar"},r.a.createElement(oe,{onSearch:this.onSearch}),r.a.createElement(Z,{defaultExpanded:!0,setProduct:this.setProduct,selected:a,products:n,name:"Omat tuotteet"}),r.a.createElement(Z,{setProduct:this.setProduct,selected:a,products:o,name:"Ideat"}),r.a.createElement(Z,{setProduct:this.setProduct,selected:a,products:c,name:"Julkiset tuotteet"})),r.a.createElement("div",{className:"product-container"},this.state.isEditMode?r.a.createElement(xe,{toggleEditMode:this.toggleEditMode,product:this.state.currentProduct,title:"Edit product"}):r.a.createElement(_,{product:this.state.currentProduct,toggleEditMode:this.toggleEditMode})))}}]),t}(r.a.Component);function Se(){ke();return r.a.createElement("div",null,r.a.createElement(xe,{title:"Create new product"}))}Ne.contextType=se;var ke=Object(p.a)((function(e){return{root:{maxWidth:"50%",margin:"60px auto",boxShadow:"1px 2px 20px 1px#d4d4d4",padding:"30px",borderRadius:"25px",backgroundColor:"white"}}}));function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We=Object(p.a)((function(e){return{root:{maxWidth:"50%",margin:"60px auto","& > *":{margin:e.spacing(1)},boxShadow:"1px 2px 20px 1px#d4d4d4",padding:"30px",borderRadius:"25px",backgroundColor:"white"},header:{fontFamily:"Roboto",fontWeight:300,fontStyle:"italic",margin:"20px auto",position:"relative",textAlign:"center"}}})),Ie=function(){var e=We(),t=Object(h.useSnackbar)().enqueueSnackbar,a={name:"",email:"",password:"",confirmPassword:"",userGroup:2},o=Object(n.useState)(a),c=Object(l.a)(o,2),i=c[0],u=c[1],m=Object(n.useState)({name:!1,email:!1,password:!1,confirmPassword:!1}),p=Object(l.a)(m,2),E=p[0],v=p[1];Object(n.useEffect)((function(){E.confirmPassword&&i.password===i.confirmPassword&&v(Re({},E,{confirmPassword:!1}))}),[i,E]);var O=function(e){u(Re({},i,Object(g.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:e.root},r.a.createElement("h1",{className:e.header},"Create User"),r.a.createElement(f.a,{name:"name",label:"Name",value:i.name,onChange:O,fullWidth:!0}),r.a.createElement(f.a,{name:"email",label:"Email",type:"email",value:i.email,onChange:O,fullWidth:!0}),r.a.createElement(f.a,{name:"password",label:"Password",type:"password",value:i.password,onChange:O,fullWidth:!0}),r.a.createElement(f.a,{name:"confirmPassword",label:"Confirm password",type:"password",value:i.confirmPassword,onChange:O,fullWidth:!0,error:E.confirmPassword,helperText:E.confirmPassword?"Passwords do not match":""}),r.a.createElement(ye.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i.userGroup,onChange:O,name:"userGroup",fullWidth:!0,style:{marginTop:"20px"}},r.a.createElement(we.a,{value:2},"Salesperson (2)"),r.a.createElement(we.a,{value:1},"Product owner (1)"),r.a.createElement(we.a,{value:0},"Admin (0)")),r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(){var e=i.name,n=i.email,r=i.password,o=i.confirmPassword,c=i.userGroup;r===o?(console.log(i),s.a.post(b+"newUser",{name:e,email:n,password:r,userGroup:c}).then((function(e){console.log(e),200===e.status&&(u(a),t(e.data.message,{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}}))})).catch((function(e){console.log(e.response),t("User creation failed",{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))):v(Re({},E,{confirmPassword:!0}))}},"Submit"))},Fe=a(138),ze=a.n(Fe),Te=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(N.a)(this,Object(S.a)(t).call(this,e))).state={columns:[{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Usergroup",field:"userGroup",lookup:{0:"Admin",1:"Product Owner",2:"Merchant"}}],data:[],popup:e.enqueueSnackbar},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.getProducts()}},{key:"getProducts",value:function(){var e=this;s.a.get(b+"users").then((function(t){console.log(t.data),e.setState({data:t.data})}))}},{key:"editUser",value:function(e,t){var a=this;t.reqEmail=e,s.a.post(b+"editUser",t).then((function(e){console.log(e),200===e.status?(console.log("ok"),a.state.popup(e.data.message,{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}}),a.refreshTable()):console.log("no ok")})).catch((function(e){console.log(e.response)}))}},{key:"deleteUser",value:function(e){var t=e.email;s.a.post(b+"deleteUser",{email:t}).then((function(e){console.log(e),200===e.status?console.log("ok"):console.log("no ok")})).catch((function(e){console.log(e.response)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(ze.a,{title:"All Users",columns:this.state.columns,data:this.state.data,options:{actionsColumnIndex:-1},editable:{onRowUpdate:function(t,a){return new Promise((function(n,r){setTimeout((function(){e.editUser(a.email,t);var r=Object(ue.a)(e.state.data),o=r.indexOf(a);r[o]=t,e.setState({data:r},(function(){return n()})),n()}),1e3)}))},onRowDelete:function(t){return new Promise((function(a,n){setTimeout((function(){e.deleteUser(t);var n=Object(ue.a)(e.state.data),r=n.indexOf(t);n.splice(r,1),e.setState({data:n},(function(){return a()})),a()}),1e3)}))}}})}}]),t}(r.a.Component);function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qe(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Le(){var e=Me(),t=Object(h.useSnackbar)().enqueueSnackbar,a={oldPassword:"",password:"",confirmPassword:""},o=Object(n.useState)(a),c=Object(l.a)(o,2),i=c[0],u=c[1],m=Object(n.useState)({password:!1,confirmPassword:!1}),p=Object(l.a)(m,2),E=p[0],v=p[1];Object(n.useEffect)((function(){E.confirmPassword&&i.password===i.confirmPassword&&v(Ge({},E,{confirmPassword:!1}))}),[i,E]);var O=function(e){u(Ge({},i,Object(g.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:e.root},r.a.createElement("h1",{className:e.header},"Change Password"),r.a.createElement(f.a,{name:"oldPassword",label:"Old Password",value:i.oldPassword,onChange:O,fullWidth:!0,type:"password"}),r.a.createElement(f.a,{name:"password",label:"New password",type:"password",value:i.password,onChange:O,fullWidth:!0}),r.a.createElement(f.a,{name:"confirmPassword",label:"Confirm password",type:"password",value:i.confirmPassword,onChange:O,fullWidth:!0,error:E.confirmPassword,helperText:E.confirmPassword?"Passwords do not match":""}),r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(e){e.preventDefault();var n=i.oldPassword,r=i.password;r===i.confirmPassword?(console.log(i),s.a.post(b+"editPassword",{oldPassword:n,password:r}).then((function(e){console.log(e),201===e.status?(u(a),t("Password changed.",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}})):(u(a),t(e.data.message,{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}}))})).catch((function(e){console.log(e.response),t("Password update failed.",{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))):v(Ge({},E,{confirmPassword:!0}))}},"Submit"))}var Me=Object(p.a)((function(e){return{root:{maxWidth:"50%",margin:"60px auto","& > *":{margin:e.spacing(1)},boxShadow:"1px 2px 20px 1px#d4d4d4",padding:"30px",borderRadius:"25px",backgroundColor:"white"},header:{fontFamily:"Roboto",fontWeight:300,fontStyle:"italic",margin:"20px auto",position:"relative",textAlign:"center"}}}));function Ae(){Ue();return r.a.createElement(Le,null)}var Ue=Object(p.a)((function(e){return{root:{width:700,margin:"auto","& > *":{margin:e.spacing(1)}}}})),Ke=a(282),Be=a(162),He=a.n(Be)()({palette:{primary:{main:"#e53935"},secondary:{main:"#dd2c00"},contrastThreshold:3,tonalOffset:.2}}),_e=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(N.a)(this,Object(S.a)(t).call(this,e))).state={columns:[{title:"Product name",field:"productName"},{title:"Product owner",field:"productOwner"},{title:"Lifecycle status",field:"lifecycleStatus"},{title:"Business type",field:"businessType"}],data:[]},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.getDeletedProducts()}},{key:"getDeletedProducts",value:function(){var e=this;s.a.get(b+"deletedProducts").then((function(t){console.log(t.data),e.setState({data:t.data})}))}},{key:"restoreProduct",value:function(e){console.log(e),e.deleted=!1,s.a.post(b+"editProduct",e).then((function(e){console.log(e)})).catch((function(e){console.log(e),console.log(e.response)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(ze.a,{title:"All Users",columns:this.state.columns,data:this.state.data,options:{actionsColumnIndex:-1},actions:[{icon:"restoreIcon",tooltip:"Restore product",onClick:function(t,a){return e.restoreProduct(a)}}]})}}]),t}(r.a.Component),Ve=a(437),Je=a(438),Qe=a(441),$e=a(440),Xe=a(439);function Ye(e){var t=Ze(),a=e.product;return r.a.createElement(pe.a,{item:!0,xs:!0},r.a.createElement(Ve.a,{className:t.card},r.a.createElement(Je.a,null,r.a.createElement(u.b,{to:"/product/"+a._id},r.a.createElement(Xe.a,{className:t.media,image:a.logos[0]?a.logos[a.logos.length-1]:"https://www.cowgirlcontractcleaning.com/wp-content/uploads/sites/360/2018/05/placeholder-img-4.jpg",title:"Contemplative Reptile"}),r.a.createElement($e.a,null,r.a.createElement(T.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.productName),r.a.createElement(T.a,{variant:"body2",color:"textSecondary",component:"p",className:t.shortDescription},a.shortDescription)))),r.a.createElement(Qe.a,null,r.a.createElement(d.a,{size:"small",color:"primary"},"Share"),r.a.createElement(d.a,{size:"small",color:"primary"},"Learn More"))))}var Ze=Object(p.a)((function(e){return{card:{textAlign:"center",color:e.palette.text.secondary,maxWidth:300,minWidth:200,"& a":{color:"black"}},media:{height:140},shortDescription:{minHeight:62}}})),et=a(386),tt=a(442),at=a(216);function nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rt(){var e=ot(),t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(null),u=Object(l.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),h=f[0],E=f[1],v=Object(n.useState)({myProducts:!1,isIdea:!1,isParticipant:!1,isClassified:!1}),O=Object(l.a)(v,2),y=O[0],w=O[1],j=Object(n.useContext)(se),P=function(){s.a.get(b+"products",{params:{filters:y,search:h}}).then((function(e){c(e.data)})).catch((function(e){return console.log(e.message)}))};Object(n.useEffect)((function(){C(h,P)}),[h]),Object(n.useEffect)(P,[y,j.userGroup]);var x=function(e){w(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nt(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},y,Object(g.a)({},e.target.name,e.target.checked)))},C=function(e,t){m&&(clearTimeout(m),d(null));var a=setTimeout(t,250);d(a)};return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.searchField},r.a.createElement(oe,{onSearch:function(e){return E(e.target.value)}})),r.a.createElement(ge.a,{component:"fieldset",className:e.formControl},r.a.createElement(et.a,{component:"legend"},"Filters"),r.a.createElement(tt.a,null,j.userGroup?r.a.createElement(ve.a,{control:r.a.createElement(at.a,{checked:y.myProducts,color:"primary",onChange:x,name:"myProducts"}),label:"Created by me"}):null,j.userGroup?r.a.createElement(ve.a,{control:r.a.createElement(at.a,{checked:y.isParticipant,color:"primary",onChange:x,name:"isParticipant"}),label:"Participant"}):null,r.a.createElement(ve.a,{control:r.a.createElement(at.a,{checked:y.ideas,color:"primary",name:"isIdea",onChange:x}),label:"Idea"}))),j.userGroup?r.a.createElement(ge.a,{component:"fieldset",className:e.formControl},r.a.createElement(et.a,{component:"legend"},"Warning"),r.a.createElement(tt.a,null,r.a.createElement(ve.a,{control:r.a.createElement(at.a,{checked:y.isClassified,color:"primary",onChange:x,name:"isClassified"}),label:"Include classified products"}))):null,r.a.createElement(pe.a,{container:!0,spacing:3},o.map((function(e){return r.a.createElement(Ye,{key:e._id,product:e})}))))}s.a.defaults.withCredentials=!0;var ot=Object(p.a)((function(e){return{root:{flexGrow:1,margin:e.spacing(2),textAlign:"left"},searchField:{width:200},formControl:{margin:e.spacing(3)},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}})),ct=Object(F.a)((function(e){return{root:{margin:e.spacing(4)}}})),lt=function(){var e=ct(),t=Object(n.useState)(null),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),d=u[0],p=u[1],g=Object(m.f)().id;Object(n.useEffect)((function(){g&&s.a.get(b+"product/"+g).then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}),[g]);var f=function(){p((function(e){return!e}))};return o?r.a.createElement("div",{className:e.root},d?r.a.createElement(xe,{product:o,toggleEditMode:f,onEdit:function(){s.a.get(b+"product/"+g).then((function(e){return c(e.data)})).catch((function(e){return console.log(e)})),p(!1)}}):r.a.createElement(_,{product:o,toggleEditMode:o.isAllowedToEdit?f:null})):r.a.createElement("div",null,"Loading...")};s.a.defaults.withCredentials=!0;var it=function(){var e=Object(n.useState)({email:"",userGroup:null,name:""}),t=Object(l.a)(e,2),a=t[0],o=t[1],c="0",i=[{name:"Home",url:"/"},{name:"Products",url:"/products"}];function d(){s.a.get(b+"session").then((function(e){var t=e.data,a=t.email,n=t.name,r=t.userGroup;a&&r&&o({email:a,name:n,userGroup:r})})).catch((function(e){console.error(e)}))}return a.userGroup&&i.push({name:"Create product",url:"/create-product"}),a.userGroup===c&&(i.push({name:"Users",url:"/users"}),i.push({name:"Create user",url:"/create-user"}),i.push({name:"Deleted products",url:"/deleted-products"})),Object(n.useEffect)((function(){d(),setInterval(d,6e4)}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(Ke.a,{theme:He},r.a.createElement(ie,{value:a},r.a.createElement(h.SnackbarProvider,{preventDuplicate:!0,maxSnack:3},r.a.createElement(u.a,null,r.a.createElement(j,{links:i,authorization:a,setAuthorization:o}),r.a.createElement("div",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:rt}),r.a.createElement(m.a,{path:"/products-old"},r.a.createElement(Ne,null)),r.a.createElement(m.a,{path:"/products",component:rt}),r.a.createElement(m.a,{path:"/product/:id"},r.a.createElement(lt,null)),r.a.createElement(m.a,{path:"/settings"},r.a.createElement(Ae,null)),r.a.createElement(m.a,{path:"/users"},r.a.createElement(Te,null)),r.a.createElement(m.a,{path:"/deleted-products"},r.a.createElement(_e,null)),r.a.createElement(m.a,{path:"/create-product"},a.userGroup?r.a.createElement(Se,null):r.a.createElement("div",null,"Not found")),r.a.createElement(m.a,{path:"/create-user"},a.userGroup===c?r.a.createElement(Ie,null):r.a.createElement("div",null,"Not found")))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[250,1,2]]]);
//# sourceMappingURL=main.160a85fb.chunk.js.map